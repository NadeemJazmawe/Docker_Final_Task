pipeline {

  agent any

  environment {
		DOCKERHUB_CREDENTIALS=credentials('dockerhub')
	}

  stages {

    stage('Login to dockerhub') {

	steps {
		sh 'sleep 2'
	}
    }

    stage('Build Image') {
      steps {
        sh 'sleep 3'
      }
    }

    stage('Push Image') {
      steps {
	sh 'sleep 1'
        }
      }
    }
  

  post {
        success {
            slackSend channel: 'jenkins_closing_task', message: 'Build Success'
        }
         
        failure {
            slackSend channel: 'jenkins_closing_task', message: 'Build Failed'
        }
    }
    
}
